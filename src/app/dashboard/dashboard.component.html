<div class="dashboard-container">
  <!-- Top Filters -->
  <div class="top-filters">
    <div class="filter-left">
      <label for="organization">Organization:</label>
      <select 
        id="organization" 
        [value]="selectedOrganization"
        (change)="selectedOrganization = $any($event.target).value; onOrganizationChange()"
        class="filter-select">
        <option value="">All</option>
        @for (org of organizations; track org.id) {
          <option [value]="org.id">{{ org.name }}</option>
        }
      </select>
    </div>
    <div class="filter-right">
      <label for="dateRange">Period:</label>
      <select 
        id="dateRange" 
        [value]="selectedDateRange"
        (change)="selectedDateRange = $any($event.target).value; onDateRangeChange()"
        class="filter-select">
        <option value="">Select</option>
        @for (range of dateRanges; track range.id) {
          <option [value]="range.id">{{ range.label }}</option>
        }
      </select>
    </div>
  </div>

  <!-- KPI Cards -->
  <div class="kpi-cards">
    @for (kpi of kpis; track kpi.id) {
      <app-kpi-card [data]="kpi"></app-kpi-card>
    }
  </div>

  <!-- Line Chart -->
  <app-line-chart></app-line-chart>

  <!-- Donut Charts -->
  <div class="donut-charts-container">
    <app-donut-chart [config]="{ title: 'USECASES BY VALUE', chartType: 'value' }"></app-donut-chart>
    <app-donut-chart [config]="{ title: 'USECASES BY RISK TIER', chartType: 'risk' }"></app-donut-chart>
  </div>
</div>

