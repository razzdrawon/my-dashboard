<div class="dashboard-container">
  <!-- Top Filters -->
  <div class="top-filters">
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Display by Organization</mat-label>
      <mat-select [value]="selectedOrganization" (selectionChange)="onOrganizationChange($event)">
        <mat-option value="">All Organization</mat-option>
        @for (org of organizations; track org.id) {
          <mat-option [value]="org.id">{{ org.name }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Period</mat-label>
      <mat-select [value]="selectedDateRange" (selectionChange)="onDateRangeChange($event)">
        <mat-option value="">Select Period</mat-option>
        @for (range of dateRanges; track range.id) {
          <mat-option [value]="range.id">{{ range.label }}</mat-option>
        }
      </mat-select>
    </mat-form-field>
  </div>

  <!-- KPI Cards -->
  <div class="kpi-cards">
    @for (kpi of kpis; track kpi.id) {
      <app-kpi-card [data]="kpi"></app-kpi-card>
    }
  </div>

  <!-- Line Chart -->
  <app-line-chart [dateRangeId]="selectedDateRange"></app-line-chart>

  <!-- Donut Charts -->
  <div class="donut-charts-container">
    <app-donut-chart [config]="{ title: 'USECASES BY VALUE', chartType: 'value' }"></app-donut-chart>
    <app-donut-chart [config]="{ title: 'USECASES BY RISK TIER', chartType: 'risk' }"></app-donut-chart>
  </div>
</div>

